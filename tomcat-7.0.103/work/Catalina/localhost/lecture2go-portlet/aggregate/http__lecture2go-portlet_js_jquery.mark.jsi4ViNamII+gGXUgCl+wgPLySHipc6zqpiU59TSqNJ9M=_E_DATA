/*!***************************************************
 * mark.js v7.0.0
 * https://github.com/julmot/mark.js
 * Copyright (c) 2014–2016, Julian Motz
 * Released under the MIT license https://git.io/vwTVl
 *****************************************************/
"use strict";var _extends=Object.assign||function(d){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var a in c){if(Object.prototype.hasOwnProperty.call(c,a)){d[a]=c[a]}}}return d};var _createClass=function(){function a(e,c){for(var b=0;b<c.length;b++){var d=c[b];d.enumerable=d.enumerable||false;d.configurable=true;if("value" in d){d.writable=true}Object.defineProperty(e,d.key,d)}}return function(d,b,c){if(b){a(d.prototype,b)}if(c){a(d,c)}return d}}();var _typeof=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol==="function"&&a.constructor===Symbol?"symbol":typeof a};function _classCallCheck(a,b){if(!(a instanceof b)){throw new TypeError("Cannot call a class as a function")}}(function(b,c,a){if(typeof define==="function"&&define.amd){define(["jquery"],function(d){return b(c,a,d)})}else{if((typeof exports==="undefined"?"undefined":_typeof(exports))==="object"){b(c,a,require("jquery"))}else{b(c,a,jQuery)}}})(function(b,a,d){var c=function(){function s(B){_classCallCheck(this,s);this.ctx=B}_createClass(s,[{key:"log",value:function l(C){var D=arguments.length<=1||arguments[1]===undefined?"debug":arguments[1];var B=this.opt.log;if(!this.opt.debug){return}if((typeof B==="undefined"?"undefined":_typeof(B))==="object"&&typeof B[D]==="function"){B[D]("mark.js: "+C)}}},{key:"escapeStr",value:function g(B){return B.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}},{key:"createRegExp",value:function A(B){B=this.escapeStr(B);if(Object.keys(this.opt.synonyms).length){B=this.createSynonymsRegExp(B)}if(this.opt.diacritics){B=this.createDiacriticsRegExp(B)}B=this.createMergedBlanksRegExp(B);B=this.createAccuracyRegExp(B);return B}},{key:"createSynonymsRegExp",value:function i(F){var B=this.opt.synonyms;for(var C in B){if(B.hasOwnProperty(C)){var D=B[C],G=this.escapeStr(C),E=this.escapeStr(D);F=F.replace(new RegExp("("+G+"|"+E+")","gmi"),"("+G+"|"+E+")")}}return F}},{key:"createDiacriticsRegExp",value:function k(D){var B=["aÀÁÂÃÄÅàáâãäåĀāąĄ","cÇçćĆčČ","dđĐďĎ","eÈÉÊËèéêëěĚĒēęĘ","iÌÍÎÏìíîïĪī","lłŁ","nÑñňŇńŃ","oÒÓÔÕÕÖØòóôõöøŌō","rřŘ","sŠšśŚ","tťŤ","uÙÚÛÜùúûüůŮŪū","yŸÿýÝ","zŽžżŻźŹ"];var C=[];D.split("").forEach(function(E){B.every(function(F){if(F.indexOf(E)!==-1){if(C.indexOf(F)>-1){return false}D=D.replace(new RegExp("["+F+"]","gmi"),"["+F+"]");C.push(F)}return true})});return D}},{key:"createMergedBlanksRegExp",value:function r(B){return B.replace(/[\s]+/gmi,"[\\s]*")}},{key:"createAccuracyRegExp",value:function j(F){var G=this;var D=this.opt.accuracy,E=typeof D==="string"?D:D.value,B=typeof D==="string"?[]:D.limiters,C="";B.forEach(function(H){C+="|"+G.escapeStr(H)});switch(E){case"partially":return"()("+F+")";case"complementary":return"()([^\\s"+C+"]*"+F+"[^\\s"+C+"]*)";case"exactly":return"(^|\\s"+C+")("+F+")(?=$|\\s"+C+")"}}},{key:"getSeparatedKeywords",value:function u(C){var D=this;var B=[];C.forEach(function(E){if(!D.opt.separateWordSearch){if(E.trim()){B.push(E)}}else{E.split(" ").forEach(function(F){if(F.trim()){B.push(F)}})}});return{keywords:B,length:B.length}}},{key:"getElements",value:function p(){var C=void 0,B=[];if(typeof this.ctx==="undefined"){C=[]}else{if(this.ctx instanceof HTMLElement){C=[this.ctx]}else{if(Array.isArray(this.ctx)){C=this.ctx}else{C=Array.prototype.slice.call(this.ctx)}}}C.forEach(function(D){B.push(D);var E=D.querySelectorAll("*");if(E.length){B=B.concat(Array.prototype.slice.call(E))}});if(!C.length){this.log("Empty context","warn")}return{elements:B,length:B.length}}},{key:"matches",value:function f(C,B){return(C.matches||C.matchesSelector||C.msMatchesSelector||C.mozMatchesSelector||C.webkitMatchesSelector||C.oMatchesSelector).call(C,B)}},{key:"matchesExclude",value:function e(C,F){var B=this;var E=true;var D=this.opt.exclude.concat(["script","style","title"]);if(!this.opt.iframes){D=D.concat(["iframe"])}if(F){D=D.concat(["*[data-markjs='true']"])}D.every(function(G){if(B.matches(C,G)){return E=false}return true});return !E}},{key:"onIframeReady",value:function z(E,B,D){try{(function(){var I=E.contentWindow,K="about:blank",H="complete";var J=function J(){try{if(I.document===null){throw new Error("iframe inaccessible")}B(I.document)}catch(L){D()}};var F=function F(){var M=E.getAttribute("src").trim(),L=I.location.href;return L===K&&M!==K&&M};var G=function G(){var L=function L(){try{if(!F()){E.removeEventListener("load",L);J()}}catch(M){D()}};E.addEventListener("load",L)};if(I.document.readyState===H){if(F()){G()}else{J()}}else{G()}})()}catch(C){D()}}},{key:"forEachElementInIframe",value:function x(G,B){var E=this;var C=arguments.length<=2||arguments[2]===undefined?function(){}:arguments[2];var D=0;var F=function F(){if(--D<1){C()}};this.onIframeReady(G,function(I){var H=Array.prototype.slice.call(I.querySelectorAll("*"));if((D=H.length)===0){F()}H.forEach(function(J){if(J.tagName.toLowerCase()==="iframe"){(function(){var K=0;E.forEachElementInIframe(J,function(M,L){B(M,L);if(L-1===K){F()}K++},F)})()}else{B(J,H.length);F()}})},function(){var H=G.getAttribute("src");E.log("iframe '"+H+"' could not be accessed","warn");F()})}},{key:"forEachElement",value:function n(C){var F=this;var D=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];var I=arguments.length<=2||arguments[2]===undefined?true:arguments[2];var H=this.getElements();var B=H.elements;var E=H.length;var G=function G(){if(--E===0){D()}};G(++E);B.forEach(function(J){if(!F.matchesExclude(J,I)){if(J.tagName.toLowerCase()==="iframe"){F.forEachElementInIframe(J,function(K){if(!F.matchesExclude(K,I)){C(K)}},G);return}else{C(J)}}G()})}},{key:"forEachNode",value:function w(B){var C=arguments.length<=1||arguments[1]===undefined?function(){}:arguments[1];this.forEachElement(function(D){for(D=D.firstChild;D;D=D.nextSibling){if(D.nodeType===3&&D.textContent.trim()){B(D)}}},C)}},{key:"wrapMatches",value:function h(D,J,B,F,K){var L=!this.opt.element?"mark":this.opt.element,H=B?0:2;var E=void 0;while((E=J.exec(D.textContent))!==null){if(!F(E[H])){continue}var I=E.index;if(!B){I+=E[H-1].length}var C=D.splitText(I);D=C.splitText(E[H].length);if(C.parentNode!==null){var G=a.createElement(L);G.setAttribute("data-markjs","true");if(this.opt.className){G.setAttribute("class",this.opt.className)}G.textContent=E[H];C.parentNode.replaceChild(G,C);K(G)}J.lastIndex=0}}},{key:"unwrapMatches",value:function v(D){var C=D.parentNode;var B=a.createDocumentFragment();while(D.firstChild){B.appendChild(D.removeChild(D.firstChild))}C.replaceChild(B,D);C.normalize()}},{key:"markRegExp",value:function o(F,E){var B=this;this.opt=E;this.log('Searching with expression "'+F+'"');var D=0;var C=function C(G){D++;B.opt.each(G)};this.forEachNode(function(G){B.wrapMatches(G,F,true,function(H){return B.opt.filter(G,H,D)},C)},function(){if(D===0){B.opt.noMatch(F)}B.opt.done(D)})}},{key:"mark",value:function m(C,E){var B=this;this.opt=E;var H=this.getSeparatedKeywords(typeof C==="string"?[C]:C);var F=H.keywords;var G=H.length;var D=0;if(G===0){this.opt.done(D)}F.forEach(function(K){var J=new RegExp(B.createRegExp(K),"gmi"),L=0;var I=function I(M){L++;D++;B.opt.each(M)};B.log('Searching with expression "'+J+'"');B.forEachNode(function(M){B.wrapMatches(M,J,false,function(){return B.opt.filter(M,K,L,D)},I)},function(){if(L===0){B.opt.noMatch(K)}if(F[G-1]===K){B.opt.done(D)}})})}},{key:"unmark",value:function t(C){var B=this;this.opt=C;var D=this.opt.element?this.opt.element:"*";D+="[data-markjs]";if(this.opt.className){D+="."+this.opt.className}this.log('Removal selector "'+D+'"');this.forEachElement(function(E){if(B.matches(E,D)){B.unwrapMatches(E)}},function(){B.opt.done()},false)}},{key:"opt",set:function q(F){this._opt=_extends({},{element:"",className:"",exclude:[],iframes:false,separateWordSearch:true,diacritics:true,synonyms:{},accuracy:"partially",each:function E(){},noMatch:function C(){},filter:function D(){return true},done:function B(){},debug:false,log:b.console},F)},get:function y(){return this._opt}}]);return s}();d.fn.mark=function(e,f){new c(this).mark(e,f);return this};d.fn.markRegExp=function(f,e){new c(this).markRegExp(f,e);return this};d.fn.unmark=function(e){new c(this).unmark(e);return this}},window,document);