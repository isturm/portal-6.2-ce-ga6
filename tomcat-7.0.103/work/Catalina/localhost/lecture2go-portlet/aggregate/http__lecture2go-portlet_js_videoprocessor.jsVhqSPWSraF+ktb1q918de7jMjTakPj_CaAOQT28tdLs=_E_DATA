var videoProcessor={getToolTipHtml:function(){return $(["<span class='taglib-icon-help'>","  <img onmouseover=\"Liferay.Portal.ToolTip.show(this, Liferay.Language.get('conversion-description'));\" src='/html/themes/control_panel/images/portlet/help.png' id='tooltipMessage'>","</span>"].join("\n"))},getConversionInitializedHtml:function(){return $(["<span class='conversion-running'>","  <span class='icon-exclamation-sign'> </span>",Liferay.Language.get("conversion-initializing"),"</span>"].join("\n")).add(videoProcessor.getToolTipHtml())},getConversionRunningHtml:function(){return $(["<span class='conversion-running'>","  <span class='icon-exclamation-sign'> </span>",Liferay.Language.get("conversion-running"),"</span>"].join("\n")).add(videoProcessor.getToolTipHtml())},getConversionFinishedHtml:function(){return $(["<span class='conversion-finished'>","  <span class='icon-ok-sign'> </span>",Liferay.Language.get("conversion-finished"),"</span>"].join("\n")).add(videoProcessor.getToolTipHtml())},getConversionFailedHtml:function(b,a,c,d){return $(["<span class='conversion-failed'>","  <span class='icon-remove-sign'> </span>",Liferay.Language.get("conversion-failed")+" - ","  <a class='force-underline' href='javascript:videoProcessor.convert(\""+b+'","'+a+'","'+c+'",'+d+")'> ",Liferay.Language.get("try-again"),"  </a>","</span>"].join("\n")).add(videoProcessor.getToolTipHtml())},getVideoCaptionWhenUploadFinishedHtml:function(){return $(["<span class='conversion-running'>","  <span class='icon-exclamation-sign'> </span>",Liferay.Language.get("conversion-video-caption-after-upload"),"</span>"].join("\n")).add(videoProcessor.getToolTipHtml())},checkVideoCaptionRemoveButton:function(b,a,d,c){$removeVideoCaptionArea=$("#remove-video-caption-postprocessing-area");AUI().use("aui-io-request","aui-node",function(e){var g=b+"videoId";var f={};f[g]=d;e.io.request(a,{dataType:"json",method:"POST",data:f,on:{success:function(){var h=this.get("responseData").videoConversionWorkflow;if(h==c){$removeVideoCaptionArea.removeClass("hide").addClass("show-inline")}}}})})},convert:function(c,b,d,f,e,a){$videoconversionNode=$('*[data-video-id="'+f+'"]');$videoconversionNode.html(videoProcessor.getConversionInitializedHtml());AUI().use("aui-io-request","aui-node",function(g){var j=c+"videoId";var i=c+"workflow";var k=c+"additionalProperties";var h={};h[j]=f;if(typeof e!="undefined"){h[i]=e}if(typeof a!="undefined"){h[k]=a}g.io.request(b,{dataType:"json",method:"POST",data:h,on:{success:function(){var l=this.get("responseData").status;if(l){videoProcessor.pollStatus(c,d,b,f)}else{$videoconversionNode.html(videoProcessor.getConversionFailedHtml(c,b,d,f))}}}})})},pollStatus:function(b,c,a,d){AUI().use("aui-io-request","aui-node",function(e){var g=b+"videoId";var f={};f[g]=d;e.io.request(c,{dataType:"json",method:"POST",data:f,on:{success:function(){var h=this.get("responseData").videoConversionStatus;var j=$('*[data-video-id="'+d+'"]');var i="";if(j.closest(".admin-videolist-date").length){i=" | "}switch(h){case"RUNNING":j.html(i).append(videoProcessor.getConversionRunningHtml());setTimeout(function(){videoProcessor.pollStatus(b,c,a,d)},5000);break;case"FINISHED":j.html(i).append(videoProcessor.getConversionFinishedHtml());break;case"ERROR":j.html(i).append(videoProcessor.getConversionFailedHtml(b,a,c,d))}}}})})}};