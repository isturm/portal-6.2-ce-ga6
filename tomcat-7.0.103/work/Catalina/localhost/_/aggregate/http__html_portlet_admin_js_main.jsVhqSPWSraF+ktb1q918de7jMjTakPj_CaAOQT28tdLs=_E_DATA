AUI.add("liferay-admin",function(d){var h=d.Object;var e=d.Lang;var c=Liferay.Poller;var b=d.config.win;var a="click";var f="alert alert-error";var i="alert alert-success";var g=d.Component.create({AUGMENTS:[Liferay.PortletBase],ATTRS:{form:{setter:d.one,value:null},url:{value:null}},EXTENDS:d.Base,NAME:"admin",prototype:{initializer:function(m){var k=this;k._errorCount=0;var l=[];var j=k.one("#installXugglerButton");if(j){l.push(j.on(a,k._installXuggler,k));k._installXugglerButton=j;k._xugglerProgressInfo=k.one("#xugglerProgressInfo");k._eventHandles=l}},destructor:function(){var j=this;d.Array.invoke(j._eventHandles,"detach");c.removeListener(j.ID)},_installXuggler:function(){var j=this;var m=j._xugglerProgressInfo;Liferay.Util.toggleDisabled(j._installXugglerButton,true);var k=j.get("form");k.get(j.ns("cmd")).val("installXuggler");var l=d.io.request(j.get("url"),{autoLoad:false,dataType:"json",form:k.getDOM()});l.on(["failure","success"],j._onIOResponse,j);b[j.ns("xugglerProgressInfo")].startProgress();l.start()},_onIOResponse:function(n){var j=this;var l=n.currentTarget.get("responseData");var o=j.one("#xugglerProgressInfoBar");o.hide();b[j.ns("xugglerProgressInfo")].fire("complete");var p=j._xugglerProgressInfo;var k=f;var m="";if(l.success){k=i;m=Liferay.Language.get("xuggler-has-been-installed-you-need-to-reboot-your-server-to-apply-changes")}else{m=Liferay.Language.get("an-unexpected-error-occurred-while-installing-xuggler")+": "+l.exception}p.html(m);p.addClass(k)}}});Liferay.Portlet.Admin=g},"",{requires:["liferay-poller","liferay-portlet-base"]});